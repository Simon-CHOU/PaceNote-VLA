# Gradle 构建优化配置 - 针对 64GB RAM 机器
# 调整 GC 策略以减少内存占用
org.gradle.jvmargs=-Xmx12288m -XX:MaxMetaspaceSize=2g -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8 -XX:+UseParallelGC -Dkotlin.daemon.jvm.options="-Xmx4096m"

# 启用并行构建，最多使用 12 个线程
org.gradle.parallel=true

# 启用配置缓存，显著提升构建速度（最多缓存100个配置）
org.gradle.configuration-cache=true
# 配置缓存遇到问题时仅警告
org.gradle.configuration-cache.problems=warn

# Windows 文件系统监听以减少 IO 开销
org.gradle.vfs.watch=true

# 启用构建缓存
org.gradle.caching=true

# Android 相关配置
android.useAndroidX=true
android.nonTransitiveRClass=true
android.enableJetifier=false

# Android 15+ 16 KB 页大小对齐支持
android.enableFullClasspathResourceRetention=false

# Kapt 编译优化
kapt.incremental.apt=true
kapt.use.worker.api=true
kapt.include.compile.classpath=false

# Kotlin 代码风格
kotlin.code.style=official
kotlin.mpp.androidSourceSetLayoutVersion=2
